#!/usr/bin/env bash

function list_block {
  local nm_block="$(basename "$(pwd)")"

  if eval test -z '${'"_list_${nm_block}"':-}'; then
    eval "_list_${nm_block}=1"
    eval export "_list_${nm_block}"
    echo "$(basename "$(pwd)")"
  fi
}

function list_in {
  local nm_project="$1"; shift

  pushd "$nm_project" 1>&-
  into_blockfile list
  list_block || fl_error=1
  popd 1>&-
}
