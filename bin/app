#!/usr/bin/env bash

function main {
  if [[ "$#" = "0" ]]; then
    return 0
  fi

  if [[ -x "$shome/script/$1" ]]; then
    local shome="$(unset CDPATH; cd -P -- "$(dirname -- "$BASH_SOURCE")/.." && pwd -P)"
    "$shome/script/$1" "$@"
  else 
    echo "ERROR: command $1 unimplemented" 1>&2
    return 1
  fi
}

if [[ -x "$(which sub 2>&- || true)" ]]; then
  source sub "$0" "$@"
else
  main "$@"
fi
